from casadi import *
import numpy as np
import os
import time
import numpy as np 
from casadi import * 

t0 = time.time() 

mat_np = np.array([[0.00570803, -0.00265656, -0.00290362, -0.00601854, 0.00297269, 0.00322721], 
 [0.000163635, 0.00552174, -0.00571624, -0.000129781, -0.00574457, 0.00583646], 
 [-0.00319586, 0.00210231, 0.000998806, 0.00333924, -0.00229406, -0.00116399], 
 [0.00112388, -0.0541438, 0.0534697, -0.00136179, 0.0554151, -0.053439], 
 [0.0678715, -0.0339242, -0.0318491, -0.0695769, 0.0372799, 0.0352813], 
 [0.00491383, 0.0202027, -0.0251494, -0.00487586, -0.0200331, 0.0248927]]
)

for i in range(10000): 

    mat_inv_np = np.linalg.pinv(mat_np)

print(mat_inv_np)

print(f"Time elapsed per iteration: {(time.time() - t0)/10000}")

t0 = time.time()

mat_ca = SX([[0.00570803, -0.00265656, -0.00290362, -0.00601854, 0.00297269, 0.00322721], 
 [0.000163635, 0.00552174, -0.00571624, -0.000129781, -0.00574457, 0.00583646], 
 [-0.00319586, 0.00210231, 0.000998806, 0.00333924, -0.00229406, -0.00116399], 
 [0.00112388, -0.0541438, 0.0534697, -0.00136179, 0.0554151, -0.053439], 
 [0.0678715, -0.0339242, -0.0318491, -0.0695769, 0.0372799, 0.0352813], 
 [0.00491383, 0.0202027, -0.0251494, -0.00487586, -0.0200331, 0.0248927]]
)

for i in range(10000): 

    mat_inv_ca = pinv(mat_ca)

print(mat_inv_ca)

print(f"Time elapsed per iteration: {(time.time() - t0)/ 10000}")

